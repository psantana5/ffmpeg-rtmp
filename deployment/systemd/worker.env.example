# FFmpeg-RTMP Edge Worker Configuration
# Copy this file to /etc/ffrtmp/worker.env and customize

# Master server URL (REQUIRED)
MASTER_URL=https://master.example.com:8443

# Worker identification (REQUIRED)
WORKER_ID=edge-node-01

# Worker capabilities (comma-separated)
# Common values: h264,h265,vp9,av1,nvenc,qsv
CAPABILITIES=h264,h265,nvenc

# Maximum concurrent jobs (default: 4)
# Set based on available CPU cores and transcoding capability
MAX_JOBS=4

# Heartbeat interval (default: 30s)
# How often to ping master server
HEARTBEAT_INTERVAL=30s

# Optional: Wrapper mode (default: enabled)
# Set to "false" to disable wrapper and use legacy execution
WRAPPER_ENABLED=true

# Optional: Log level (debug, info, warn, error)
LOG_LEVEL=info

# Optional: Stream directory (default: /opt/ffrtmp/streams)
STREAM_DIR=/opt/ffrtmp/streams

# Optional: TLS client certificate (for mutual TLS with master)
# TLS_CERT=/etc/ffrtmp/certs/worker.crt
# TLS_KEY=/etc/ffrtmp/certs/worker.key
# TLS_CA=/etc/ffrtmp/certs/ca.crt
