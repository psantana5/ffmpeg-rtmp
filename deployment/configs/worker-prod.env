# Production Environment Configuration for Worker Node

# Master server URL (REQUIRED)
MASTER_URL=https://master.example.com:8080

# Worker authentication (REQUIRED)
API_KEY=CHANGE_ME_SECURE_API_KEY

# Worker identification
WORKER_ID=prod-worker-01

# Job execution
MAX_CONCURRENT_JOBS=8
HEARTBEAT_INTERVAL=15s
JOB_TIMEOUT=7200s

# Resource limits
MAX_MEMORY_MB=16384
MAX_CPU_CORES=8

# Logging
LOG_LEVEL=info
LOG_FILE=/var/log/ffrtmp/worker.log

# Directories
STREAM_DIR=/opt/ffrtmp/streams
OUTPUT_DIR=/opt/ffrtmp/output
TEMP_DIR=/tmp/ffrtmp

# FFmpeg settings
FFMPEG_THREADS=0  # Auto-detect
FFMPEG_LOG_LEVEL=warning

# Hardware acceleration
ENABLE_NVENC=true
ENABLE_VAAPI=false
ENABLE_QSV=false

# TLS settings
TLS_CERT_FILE=/etc/ffrtmp/certs/worker.crt
TLS_KEY_FILE=/etc/ffrtmp/certs/worker.key
TLS_CA_FILE=/etc/ffrtmp/certs/ca.crt
TLS_VERIFY_SERVER=true

# Performance tuning
ENABLE_CGROUP_LIMITS=true
NICE_LEVEL=0
IO_PRIORITY=best-effort

# Monitoring
METRICS_PORT=9100
ENABLE_PROFILING=false
